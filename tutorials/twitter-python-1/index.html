<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="Accessing Twitter data in Python">
    <meta property="og:title" content="Introduction to Reading Twitter Data in Python">
    
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2017-10-27">
    
    <meta property="og:description" content="Accessing Twitter data in Python">
    <meta property="og:url" content="https://bigdataethics.github.io/tutorials/twitter-python-1/">
    <meta property="og:site_name" content="Big Data Ethics">
    
    <meta name="generator" content="Hugo 0.42.1" />
    <title>Introduction to Reading Twitter Data in Python &middot; Big Data Ethics</title>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://bigdataethics.github.io/css/style.css">
    
    <link href="https://bigdataethics.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Big Data Ethics" />
    
    
    <link rel="icon" href="https://bigdataethics.github.io/favicon.ico" />
    

    
    
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://bigdataethics.github.io/">BIGDATA ETHICS</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
					<li><a href="https://bigdataethics.github.io/about">About</a></li>
				
					<li><a href="https://bigdataethics.github.io/poss/">Blog</a></li>
				
					<li><a href="https://bigdataethics.github.io/tutorials/">Tutorials</a></li>
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="https://bigdataethics.github.io/">BIGDATA ETHICS</a></h1>
		
		
		
			<small class="text-center center-block">Joe Coelho</small>
		
		
		
			<img id="profile-pic" src="https://bigdataethics.github.io//img/profile.png" alt="My Picture" class="img-circle center-block">
		
		<div id="social" class="text-center">
			
				<a href="https://twitter.com/joebencoelho"><i class="fa fa-twitter fa-2x"></i></a>
			
				<a href="https://www.linkedin.com/in/joecoelhosj/"><i class="fa fa-linkedin fa-2x"></i></a>
			
				<a href="https://plus.google.com/&#43;JosephCoelhoSJ"><i class="fa fa-google-plus fa-2x"></i></a>
			

			<a href="mailto:joseph.coelho@marquette.edu"><i class="fa fa-envelope-o fa-2x"></i></a>
		</div>
		<div id="links" class="text-center">
			
			
				<a href="https://bigdataethics.github.io/about">About</a>
			
				<a href="https://bigdataethics.github.io/poss/">Blog</a>
			
				<a href="https://bigdataethics.github.io/tutorials/">Tutorials</a>
			
		</div>
	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-8">

<main>
	<header>
		<h1>Introduction to Reading Twitter Data in Python</h1>
	</header>

	<article>
		

<h3 id="social-media-analysis">Social Media Analysis</h3>

<p>Social media has become the go-to place for information and opinions. Social media can be mined to gauge sentiment, analyze opinion, identity interests, locate concerns, and so on. Facebook, Pinterest, Instagram, Twitter, Google+ are some social media platforms. Among them, Twitter data is public and can be mined relatively easily.</p>

<h3 id="first-of-all-you-need-to-obtain-access-codes-from-twitter-to-be-able-to-mine-twitter-data">First of all you need to obtain access codes from Twitter to be able to mine Twitter data.</h3>

<ol>
<li>Go to www.apps.twitter.com</li>
<li>Sign in with your twitter credentials</li>
<li>Click on &lsquo;Create New App&rsquo;</li>
<li>Give: (a) a name for the application; (b) a short description of what the app does; &copy; a placeholder website address; (d) agree to the terms; and click &lsquo;Create Your Twitter Application&rsquo;</li>
<li>Click on &lsquo;Keys and Access Tokens&rsquo; tab. You will see that the Consumer key and Consumer secret are already generated. You will also need Access tokens. Click on &lsquo;Create my access token&rsquo; to create access tokens.</li>
<li>Copy down your Consumer Key, Consumer Secret, Access Token, and Access Token Secret for use in the next section.</li>
</ol>

<h3 id="importing-the-required-libraries">Importing the required libraries</h3>

<p>For most of the work in this section we will be using the following libraries. Install them in your Python installation using &lsquo;conda&rsquo; or &lsquo;pip&rsquo;.
1. tweepy
2. urllib3
3. textblob</p>

<h3 id="getting-access-to-twitter-in-python">Getting access to Twitter in Python</h3>

<p>This involves two steps:
1. Creating an authentication token to verify user permissions
2. Creating an API to access twitter data</p>

<p>Paste your consumer key, consumer secret, access token, and access token secret in the proper places in the code below.</p>

<pre><code class="language-python">import tweepy

consumer_key = ''
consumer_secret = ''
access_token = ''
access_token_secret = ''

# Create authentication token
auth = tweepy.OAuthHandler(consumer_key, consumer_secret)
auth.set_access_token(access_token, access_token_secret)

# Create API
api = tweepy.API(auth)
</code></pre>

<h3 id="we-can-now-use-the-api-to-access-twitter-data">We can now use the API to access twitter data</h3>

<p>The code given below fetches some general information about the given user. Some of the user object attributes are: id, id_str, name, screen_name, location, url, description, protected, verified, followers_count, friends_count, listed_count, favorites_count, statuses_count, created_at, time_zone, geo_enabled, lang, etc.</p>

<pre><code class="language-python"># Store a twitter handle in this variable (@username)
user = ''

# Retrieve information about the user
twitterData = api.get_user(user)

# Print the information
print('Twitter user       : ' + user)
print('Number of followers: ' + str(twitterData.followers_count))
print('Number of tweets   : ' + str(twitterData.statuses_count))
print('Favorites          : ' + str(twitterData.favourites_count))
print('Friends            : ' + str(twitterData.friends_count))
print('Appears on ' + str(twitterData.listed_count) + ' lists')
</code></pre>

<h3 id="reading-tweets-of-any-user">Reading tweets of any user</h3>

<p>Twitter allows us to read up to 3200 most recent tweets of any user. Tweets may be read in pages, each page can have up to 200 tweets. In all we can read up to 16 pages of 200 tweets each for any user. The Cursor method handles the page-wise fetching of data. The Tweepy API wrapper includes timeline methods, status methods, user methods, etc. [More: <a href="http://tweepy.readthedocs.io/en/v3.5.0/api.html#tweepy-api-twitter-api-wrapper">http://tweepy.readthedocs.io/en/v3.5.0/api.html#tweepy-api-twitter-api-wrapper</a>]</p>

<p>In the code below we use the <code>user_timeline</code> method to obtain tweets from the user&rsquo;s timeline. We use the try-except construct for error handling.</p>

<pre><code class="language-python">try:
    for page in tweepy.Cursor(api.user_timeline, screen_name=user, count=200).pages(16):
        for status in page:
            try:
                print(status.text)
                print('-----')
            except:
                print(&quot;Unable to print current status text&quot;)
                continue
except:
    print(&quot;Error retrieving user tweets&quot;)
    pass
</code></pre>

<h3 id="a-sample-tweet">A Sample Tweet</h3>

<p>A tweet consists of many attributes apart from the tweet text itself. In addition, a re-tweet will have additional attributes marked. Below is a sample tweet. You will notice that is has the key-value pair format and most of the keys are self explanatory.</p>

<p>Note some of the important keys:
1. Related to the user: user:{name, screen_name, location, description, followers_count, friends_count, listed_count, favourites_count, statuses_count, created_at, lang}
2. Related to the tweet: {created_at, text, geo, coordinates, place, retweet_count, favorite_count, entities:{hashtags, urls, user_mentions, symbols}, favorited, retweeted, lang</p>

<pre><code>{&quot;created_at&quot;:&quot;Mon May 16 19:36:08 +0000 2016&quot;, &quot;id&quot;:732293574721556480, &quot;id_str&quot;:&quot;732293574721556480&quot;, &quot;text&quot;:&quot;Le Petit March... all the ambience and spunk you'd want in a breakfast cafe! #goodfood #atlanta\u2026 https:\/\/t.co\/LFmuWcEaMO&quot;, &quot;source&quot;:&quot;\u003ca href=\&quot;http:\/\/instagram.com\&quot; rel=\&quot;nofollow\&quot;\u003eInstagram\u003c\/a\u003e&quot;, &quot;truncated&quot;:false, &quot;in_reply_to_status_id&quot;:null, &quot;in_reply_to_status_id_str&quot;:null, &quot;in_reply_to_user_id&quot;:null, &quot;in_reply_to_user_id_str&quot;:null, &quot;in_reply_to_screen_name&quot;:null, &quot;user&quot;:{&quot;id&quot;:21735586, &quot;id_str&quot;:&quot;21735586&quot;, &quot;name&quot;:&quot;Jessica Gallon&quot;, &quot;screen_name&quot;:&quot;JessicaGallon&quot;, &quot;location&quot;:&quot;USA&quot;, &quot;url&quot;:&quot;http:\/\/www.8PINTSdesign.com&quot;, &quot;description&quot;:&quot;Looking forward to looking forward. \n&amp;emsp;\nGraphic Design \u2022 Photography \u2022  Life&quot;, &quot;protected&quot;:false, &quot;verified&quot;:false, &quot;followers_count&quot;:157, &quot;friends_count&quot;:68, &quot;listed_count&quot;:38, &quot;favourites_count&quot;:674, &quot;statuses_count&quot;:2459, &quot;created_at&quot;:&quot;Tue Feb 24 06:46:56 +0000 2009&quot;, &quot;utc_offset&quot;:-18000, &quot;time_zone&quot;:&quot;Central Time (US &amp; Canada)&quot;, &quot;geo_enabled&quot;:false, &quot;lang&quot;:&quot;en&quot;, &quot;contributors_enabled&quot;:false, &quot;is_translator&quot;:false, &quot;profile_background_color&quot;:&quot;B8B8B8&quot;, &quot;profile_background_image_url&quot;:&quot;http:\/\/pbs.twimg.com\/profile_background_images\/746770356 \/d11e6fa692d05af60009a12bf24d6d94.jpeg&quot;, &quot;profile_background_image_url_https&quot;:&quot;https:\/\/pbs.twimg.com\/profile_background_images \/746770356\/d11e6fa692d05af60009a12bf24d6d94.jpeg&quot;, &quot;profile_background_tile&quot;:false, &quot;profile_link_color&quot;:&quot;A3A3A3&quot;, &quot;profile_sidebar_border_color&quot;:&quot;000000&quot;, &quot;profile_sidebar_fill_color&quot;:&quot;CFD6B8&quot;, &quot;profile_text_color&quot;:&quot;164706&quot;, &quot;profile_use_background_image&quot;:true, &quot;profile_image_url&quot;:&quot;http:\/\/pbs.twimg.com\/profile_images\/696859863792668672\/h1-BJSY7_normal.jpg&quot;, &quot;profile_image_url_https&quot;:&quot;https:\/\/pbs.twimg.com\/profile_images\/696859863792668672\/h1-BJSY7_normal.jpg&quot;, &quot;profile_banner_url&quot;:&quot;https:\/\/pbs.twimg.com\/profile_banners\/21735586\/1454980052&quot;, &quot;default_profile&quot;:false, &quot;default_profile_image&quot;:false, &quot;following&quot;:null, &quot;follow_request_sent&quot;:null, &quot;notifications&quot;:null}, &quot;geo&quot;:null, &quot;coordinates&quot;:null, &quot;place&quot;:null, &quot;contributors&quot;:null, &quot;is_quote_status&quot;:false, &quot;retweet_count&quot;:0, &quot;favorite_count&quot;:0, &quot;entities&quot;:{&quot;hashtags&quot;:[{&quot;text&quot;:&quot;goodfood&quot;,&quot;indices&quot;:[77,86]},{&quot;text&quot;:&quot;atlanta&quot;,&quot;indices&quot;:[87,95]}], &quot;urls&quot;:[{&quot;url&quot;:&quot;https:\/\/t.co\/LFmuWcEaMO&quot;, &quot;expanded_url&quot;:&quot;https:\/\/www.instagram.com\/p\/BFeubLSjo7X\/&quot;, &quot;display_url&quot;:&quot;instagram.com\/p\/BFeubLSjo7X\/&quot;,&quot;indices&quot;:[97,120]}], &quot;user_mentions&quot;:[],&quot;symbols&quot;:[]}, &quot;favorited&quot;:false, &quot;retweeted&quot;:false, &quot;possibly_sensitive&quot;:false,&quot;filter_level&quot;:&quot;low&quot;, &quot;lang&quot;:&quot;en&quot;, &quot;timestamp_ms&quot;:&quot;1463427368227&quot;}
</code></pre>

	</article>
</main>

<div id="bottom-nav" class="text-center center-block">
	<a href=" https://bigdataethics.github.io/" class="btn btn-default"><i class="fa fa-home"></i> Home</a>
</div>


  <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "joecoelhosj-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', '', 'auto');
    ga('send', 'pageview');
    window.baseURL = "https:\/\/bigdataethics.github.io\/";
  </script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  
  <script src="https://bigdataethics.github.io//js/App.js"></script>
  
</body>
</html>
